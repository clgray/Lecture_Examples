
# üå≥ Composite (–ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫)

## üß© –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

**Composite (–ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫)**
–¢–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫: *–î–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤*, *–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤*.

---

## üß† –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–∞–µ–º–æ–π –ø—Ä–æ–±–ª–µ–º—ã

### üîç –ü—Ä–æ–±–ª–µ–º–∞

–ò–Ω–æ–≥–¥–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≥–¥–µ **–æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, —Ç–∞–∫ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤**.
–ù–∞–ø—Ä–∏–º–µ—Ä: –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

–ï—Å–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –ø–æ-—Ä–∞–∑–Ω–æ–º—É (–ª–∏—Å—Ç—å—è –æ—Ç–¥–µ–ª—å–Ω–æ, —É–∑–ª—ã –æ—Ç–¥–µ–ª—å–Ω–æ), –∫–æ–¥:

* —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω—ã–º,
* —Ç—Ä—É–¥–Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º,
* –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø **–µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**.

**–ó–∞–¥–∞—á–∞:** —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º** –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

---

### üí¨ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á

1. üñºÔ∏è –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä: —Ñ–∏–≥—É—Ä—ã –∏ –≥—Ä—É–ø–ø—ã —Ñ–∏–≥—É—Ä (–∫—Ä—É–≥, –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫, –≥—Ä—É–ø–ø–∞ —Ñ–∏–≥—É—Ä).
2. üìÇ –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞: —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏, –≥–¥–µ –ø–∞–ø–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–∞–π–ª—ã –∏ –¥—Ä—É–≥–∏–µ –ø–∞–ø–∫–∏.
3. üè¢ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∏ –æ—Ç–¥–µ–ª—ã, –≥–¥–µ –æ—Ç–¥–µ–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –¥—Ä—É–≥–∏–µ –æ—Ç–¥–µ–ª—ã.
4. üìù –î–æ–∫—É–º–µ–Ω—Ç—ã: —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã, —Ç–∞–±–ª–∏—Ü—ã, —Å–ø–∏—Å–∫–∏) –∏ –∏—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.

---

## üèóÔ∏è –û–ø–∏—Å–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ —Ä–µ—à–µ–Ω–∏—è

–ò–¥–µ—è **Composite**:

* –í–≤–µ—Å—Ç–∏ **–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** (Component), –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
* **–õ–∏—Å—Ç (Leaf)** ‚Äî —ç—Ç–æ –∫–æ–Ω–µ—á–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
* **–ö–æ–º–ø–æ–∑–∏—Ç (Composite)** ‚Äî –æ–±—ä–µ–∫—Ç-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ª–∏—Å—Ç—å—è –∏–ª–∏ –∫–æ–º–ø–æ–∑–∏—Ç—ã).
* –ö–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**, –Ω–µ —Ä–∞–∑–ª–∏—á–∞—è –ª–∏—Å—Ç –∏ –∫–æ–º–ø–æ–∑–∏—Ç.

> –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å **–¥–µ—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤** –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö **–æ–¥–∏–Ω–∞–∫–æ–≤–æ**.

---

## üìä –î–∏–∞–≥—Ä–∞–º–º–∞ –∏ —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### UML (PlantUML) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤

```plantuml
@startuml
interface IComponent {
  +Operation()
}

class Leaf implements IComponent {
  +Operation()
}

class Composite implements IComponent {
  -children : List<IComponent>
  +Add(c : IComponent)
  +Remove(c : IComponent)
  +Operation()
}

IComponent <|.. Leaf
IComponent <|.. Composite
Composite --> IComponent : —Å–æ–¥–µ—Ä–∂–∏—Ç >
@enduml
```

---

### UML (PlantUML) ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤

```plantuml
@startuml
actor Client
participant "Composite" as Comp
participant "Leaf1" as L1
participant "Leaf2" as L2

Client -> Comp : Operation()
Comp -> L1 : Operation()
Comp -> L2 : Operation()
@enduml
```

---

## üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ C#

### 1Ô∏è‚É£ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```csharp
using System;
using System.Collections.Generic;

public interface IComponent
{
    void Operation();
}
```

---

### 2Ô∏è‚É£ –õ–∏—Å—Ç (Leaf)

```csharp
public class File : IComponent
{
    public string Name { get; set; }

    public File(string name)
    {
        Name = name;
    }

    public void Operation()
    {
        Console.WriteLine($"–§–∞–π–ª: {Name}");
    }
}
```

---

### 3Ô∏è‚É£ –ö–æ–º–ø–æ–∑–∏—Ç (Composite)

```csharp
public class Folder : IComponent
{
    public string Name { get; set; }
    private readonly List<IComponent> _children = new();

    public Folder(string name)
    {
        Name = name;
    }

    public void Add(IComponent component)
    {
        _children.Add(component);
    }

    public void Remove(IComponent component)
    {
        _children.Remove(component);
    }

    public void Operation()
    {
        Console.WriteLine($"–ü–∞–ø–∫–∞: {Name}");
        foreach (var child in _children)
        {
            child.Operation();
        }
    }
}
```

---

### 4Ô∏è‚É£ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥

```csharp
public static class Program
{
    public static void Main()
    {
        // –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª—ã
        var file1 = new File("file1.txt");
        var file2 = new File("file2.txt");
        var file3 = new File("file3.txt");

        // –°–æ–∑–¥–∞—ë–º –ø–∞–ø–∫–∏
        var folder1 = new Folder("Documents");
        var folder2 = new Folder("Images");

        // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–∏
        folder1.Add(file1);
        folder1.Add(file2);
        folder2.Add(file3);

        // –°–æ–∑–¥–∞—ë–º –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É
        var root = new Folder("Root");
        root.Add(folder1);
        root.Add(folder2);

        // –ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ
        root.Operation();
    }
}
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
–ü–∞–ø–∫–∞: Root
–ü–∞–ø–∫–∞: Documents
–§–∞–π–ª: file1.txt
–§–∞–π–ª: file2.txt
–ü–∞–ø–∫–∞: Images
–§–∞–π–ª: file3.txt
```

---

## ‚öñÔ∏è –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

### ‚úÖ –ü–ª—é—Å—ã

| –ü–ª—é—Å                              | –û–ø–∏—Å–∞–Ω–∏–µ                                               |
| --------------------------------- | ------------------------------------------------------ |
| üîπ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å      | –ö–ª–∏–µ–Ω—Ç –Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç –ª–∏—Å—Ç –∏ –∫–æ–º–ø–æ–∑–∏—Ç                    |
| üîπ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä | –õ—é–±–æ–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏                              |
| üîπ –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å                  | –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ |
| üîπ –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞     | –û–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø–æ –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ      |

### ‚ùå –ú–∏–Ω—É—Å—ã

| –ú–∏–Ω—É—Å                    | –û–ø–∏—Å–∞–Ω–∏–µ                                                     |
| ------------------------ | ------------------------------------------------------------ |
| ‚öôÔ∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏     | –î–µ—Ä–µ–≤—å—è –º–æ–≥—É—Ç –±—ã—Ç—å –≥–ª—É–±–æ–∫–∏–º–∏ –∏ —Å–ª–æ–∂–Ω—ã–º–∏                      |
| üß© –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å    | –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–µ—Ä–µ–≤—å—è—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Ä–æ–≥–∏–º–∏ |
| ‚ö†Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è | –ò–Ω–æ–≥–¥–∞ —Ç—Ä—É–¥–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–µ–π –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —É–∑–ª—ã |

---

## üí° –û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

* –§–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã (—Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏)
* –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã (–æ–±—ä–µ–∫—Ç—ã –∏ –≥—Ä—É–ø–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤)
* –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∏ –æ—Ç–¥–µ–ª—ã)
* UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
* –î–æ–∫—É–º–µ–Ω—Ç—ã –∏ XML/JSON-–ø–∞—Ä—Å–µ—Ä—ã

---

## üß≠ –í—ã–≤–æ–¥

**Composite (–ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫)** –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* —Å—Ç—Ä–æ–∏—Ç—å **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤**,
* —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ **–µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**,
* –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å **–≥—Ä—É–ø–ø—ã –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ**.

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ **—á–∏—Å—Ç—ã–º, —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º –∏ –ª–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º**, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

# üå≥ Composite —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

## üí° –ò–¥–µ—è

* –ö–æ–º–ø–æ–∑–∏—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ª–∏—Å—Ç—å—è –∏–ª–∏ –∫–æ–º–ø–æ–∑–∏—Ç—ã) –Ω–∞ **–ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏**.
* –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:

  * –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤,
  * —É–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö,
  * –ø–æ–∏—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ –∏–º–µ–Ω–∏.
* –ö–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IComponent`, –Ω–µ –∑–∞–±–æ—Ç—è—Å—å –æ —Ç–æ–º, –ª–∏—Å—Ç —ç—Ç–æ –∏–ª–∏ –∫–æ–º–ø–æ–∑–∏—Ç.

---

## üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ C#

### 1Ô∏è‚É£ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```csharp
using System;

public interface IComponent
{
    string Name { get; }
    void Operation(int depth = 0);
    void Add(IComponent component);
    void Remove(IComponent component);
    IComponent Find(string name);
}
```

---

### 2Ô∏è‚É£ –õ–∏—Å—Ç (Leaf)

```csharp
public class File : IComponent
{
    public string Name { get; private set; }

    public File(string name)
    {
        Name = name;
    }

    public void Operation(int depth = 0)
    {
        Console.WriteLine($"{new string(' ', depth * 2)}–§–∞–π–ª: {Name}");
    }

    public void Add(IComponent component)
    {
        throw new InvalidOperationException("–ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –ª–∏—Å—Ç.");
    }

    public void Remove(IComponent component)
    {
        throw new InvalidOperationException("–ù–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å –∏–∑ –ª–∏—Å—Ç–∞.");
    }

    public IComponent Find(string name)
    {
        return Name == name ? this : null;
    }
}
```

---

### 3Ô∏è‚É£ –ö–æ–º–ø–æ–∑–∏—Ç (Composite)

```csharp
using System.Collections.Generic;

public class Folder : IComponent
{
    public string Name { get; private set; }
    private readonly List<IComponent> _children = new();

    public Folder(string name)
    {
        Name = name;
    }

    public void Operation(int depth = 0)
    {
        Console.WriteLine($"{new string(' ', depth * 2)}–ü–∞–ø–∫–∞: {Name}");
        foreach (var child in _children)
        {
            child.Operation(depth + 1);
        }
    }

    public void Add(IComponent component)
    {
        _children.Add(component);
    }

    public void Remove(IComponent component)
    {
        _children.Remove(component);
    }

    public IComponent Find(string name)
    {
        if (Name == name) return this;
        foreach (var child in _children)
        {
            var result = child.Find(name);
            if (result != null) return result;
        }
        return null;
    }
}
```

---

### 4Ô∏è‚É£ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

```csharp
public static class Program
{
    public static void Main()
    {
        var root = new Folder("Root");

        var documents = new Folder("Documents");
        var images = new Folder("Images");

        var file1 = new File("file1.txt");
        var file2 = new File("file2.txt");
        var file3 = new File("image1.png");

        documents.Add(file1);
        documents.Add(file2);
        images.Add(file3);

        root.Add(documents);
        root.Add(images);

        Console.WriteLine("=== –ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ===");
        root.Operation();

        // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
        var newFile = new File("file3.txt");
        documents.Add(newFile);

        // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
        documents.Remove(file1);

        Console.WriteLine("\n=== –ü–æ—Å–ª–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π ===");
        root.Operation();

        // –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞
        var found = root.Find("image1.png");
        Console.WriteLine($"\n–ù–∞–π–¥–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç: {(found != null ? found.Name : "–Ω–µ –Ω–∞–π–¥–µ–Ω")}");
    }
}
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
=== –ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ===
–ü–∞–ø–∫–∞: Root
  –ü–∞–ø–∫–∞: Documents
    –§–∞–π–ª: file1.txt
    –§–∞–π–ª: file2.txt
  –ü–∞–ø–∫–∞: Images
    –§–∞–π–ª: image1.png

=== –ü–æ—Å–ª–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π ===
–ü–∞–ø–∫–∞: Root
  –ü–∞–ø–∫–∞: Documents
    –§–∞–π–ª: file2.txt
    –§–∞–π–ª: file3.txt
  –ü–∞–ø–∫–∞: Images
    –§–∞–π–ª: image1.png

–ù–∞–π–¥–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç: image1.png
```

---

## üìä UML ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π Composite (PlantUML)

```plantuml
@startuml
interface IComponent {
  +Name
  +Operation(depth : int)
  +Add(component : IComponent)
  +Remove(component : IComponent)
  +Find(name : string) : IComponent
}

class File implements IComponent
class Folder implements IComponent {
  -children : List<IComponent>
}

IComponent <|.. File
IComponent <|.. Folder
Folder --> IComponent : —Å–æ–¥–µ—Ä–∂–∏—Ç >
@enduml
```

---

## ‚öñÔ∏è –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ Composite

* üîπ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–≥–ª—É–±–æ–∫–∏—Ö –∏ —Å–ª–æ–∂–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ –æ–±—ä–µ–∫—Ç–æ–≤**
* üîπ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
* üîπ –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
* üîπ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –¥–µ—Ä–µ–≤—å—è—Ö

---

## ‚ö†Ô∏è –ú–∏–Ω—É—Å—ã

* ‚öôÔ∏è –°–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–µ—Ä–µ–≤—å—è—Ö
* üß© –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Ä–æ–≥–∏–º–∏ –ø–æ –ø–∞–º—è—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏
* ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ª–æ–≥–∏–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —É–∑–ª–æ–≤

---

## üí° –û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

* –§–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏
* –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã (–≥—Ä—É–ø–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤)
* –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
* UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø–∞–Ω–µ–ª–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –≤–∏–¥–∂–µ—Ç—ã)
* –î–µ—Ä–µ–≤—å—è –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∏ –∏–≥—Ä–∞—Ö


---

# üå≥ Composite —Å —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

## üí° –ò–¥–µ—è

* –ö–∞–∂–¥—ã–π **–∫–æ–º–ø–æ–∑–∏—Ç** (–∏–ª–∏ –ª–∏—Å—Ç) –º–æ–∂–µ—Ç **—É–≤–µ–¥–æ–º–ª—è—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤** –æ —Å–æ–±—ã—Ç–∏—è—Ö: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.
* –ö–ª–∏–µ–Ω—Ç –∏–ª–∏ —Å–∏—Å—Ç–µ–º–∞ UI –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è, —á—Ç–æ–±—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —à–∞–±–ª–æ–Ω **Observer** –≤–º–µ—Å—Ç–µ —Å **Composite**.

---

## üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ C#

### 1Ô∏è‚É£ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```csharp
using System;

public interface IComponent
{
    string Name { get; }
    void Operation(int depth = 0);
    void Add(IComponent component);
    void Remove(IComponent component);
    IComponent Find(string name);
    
    event Action<IComponent, string> OnChanged;
}
```

> `OnChanged` —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ —Ç–∏–ø–µ —Å–æ–±—ã—Ç–∏—è (`"Added"`, `"Removed"`).

---

### 2Ô∏è‚É£ –õ–∏—Å—Ç (Leaf)

```csharp
public class File : IComponent
{
    public string Name { get; private set; }
    public event Action<IComponent, string> OnChanged;

    public File(string name)
    {
        Name = name;
    }

    public void Operation(int depth = 0)
    {
        Console.WriteLine($"{new string(' ', depth * 2)}–§–∞–π–ª: {Name}");
    }

    public void Add(IComponent component)
    {
        throw new InvalidOperationException("–ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –ª–∏—Å—Ç.");
    }

    public void Remove(IComponent component)
    {
        throw new InvalidOperationException("–ù–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å –∏–∑ –ª–∏—Å—Ç–∞.");
    }

    public IComponent Find(string name)
    {
        return Name == name ? this : null;
    }

    protected void Notify(string action)
    {
        OnChanged?.Invoke(this, action);
    }
}
```

---

### 3Ô∏è‚É£ –ö–æ–º–ø–æ–∑–∏—Ç (Composite)

```csharp
using System.Collections.Generic;

public class Folder : IComponent
{
    public string Name { get; private set; }
    private readonly List<IComponent> _children = new();

    public event Action<IComponent, string> OnChanged;

    public Folder(string name)
    {
        Name = name;
    }

    public void Operation(int depth = 0)
    {
        Console.WriteLine($"{new string(' ', depth * 2)}–ü–∞–ø–∫–∞: {Name}");
        foreach (var child in _children)
        {
            child.Operation(depth + 1);
        }
    }

    public void Add(IComponent component)
    {
        _children.Add(component);
        component.OnChanged += Component_OnChanged;
        Notify(component, "Added");
    }

    public void Remove(IComponent component)
    {
        if (_children.Remove(component))
        {
            component.OnChanged -= Component_OnChanged;
            Notify(component, "Removed");
        }
    }

    public IComponent Find(string name)
    {
        if (Name == name) return this;
        foreach (var child in _children)
        {
            var result = child.Find(name);
            if (result != null) return result;
        }
        return null;
    }

    private void Component_OnChanged(IComponent component, string action)
    {
        Notify(component, action);
    }

    protected void Notify(IComponent component, string action)
    {
        OnChanged?.Invoke(component, action);
    }
}
```

---

### 4Ô∏è‚É£ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ —Å –ø–æ–¥–ø–∏—Å–∫–æ–π –Ω–∞ —Å–æ–±—ã—Ç–∏—è

```csharp
public static class Program
{
    public static void Main()
    {
        var root = new Folder("Root");

        // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
        root.OnChanged += (component, action) =>
        {
            Console.WriteLine($"–°–æ–±—ã—Ç–∏–µ: {action} -> {component.Name}");
        };

        var documents = new Folder("Documents");
        var file1 = new File("file1.txt");
        var file2 = new File("file2.txt");

        documents.Add(file1);
        documents.Add(file2);

        root.Add(documents);

        Console.WriteLine("\n=== –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ===");
        root.Operation();

        Console.WriteLine("\n=== –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ===");
        var newFile = new File("file3.txt");
        documents.Add(newFile);     // —Å–æ–±—ã—Ç–∏–µ Added
        documents.Remove(file1);    // —Å–æ–±—ã—Ç–∏–µ Removed
    }
}
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
–°–æ–±—ã—Ç–∏–µ: Added -> file1.txt
–°–æ–±—ã—Ç–∏–µ: Added -> file2.txt
–°–æ–±—ã—Ç–∏–µ: Added -> Documents
–°–æ–±—ã—Ç–∏–µ: Added -> file1.txt
–°–æ–±—ã—Ç–∏–µ: Added -> file2.txt

=== –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ===
–ü–∞–ø–∫–∞: Root
  –ü–∞–ø–∫–∞: Documents
    –§–∞–π–ª: file1.txt
    –§–∞–π–ª: file2.txt

=== –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ===
–°–æ–±—ã—Ç–∏–µ: Added -> file3.txt
–°–æ–±—ã—Ç–∏–µ: Removed -> file1.txt
```

---

## üìä UML ‚Äî Composite —Å —Å–æ–±—ã—Ç–∏—è–º–∏ (PlantUML)

```plantuml
@startuml
interface IComponent {
  +Name
  +Operation(depth : int)
  +Add(component : IComponent)
  +Remove(component : IComponent)
  +Find(name : string) : IComponent
  +OnChanged : event
}

class File implements IComponent
class Folder implements IComponent {
  -children : List<IComponent>
  +OnChanged : event
}

IComponent <|.. File
IComponent <|.. Folder
Folder --> IComponent : —Å–æ–¥–µ—Ä–∂–∏—Ç >
@enduml
```

---

## ‚öñÔ∏è –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

* üîπ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π** —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
* üîπ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è** –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ
* üîπ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ª–∏—Å—Ç—å–µ–≤ –∏ –∫–æ–º–ø–æ–∑–∏—Ç–æ–≤
* üîπ –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **UI, —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤, –∏–≥—Ä–æ–≤—ã—Ö —Å—Ü–µ–Ω**

---

## ‚ö†Ô∏è –ú–∏–Ω—É—Å—ã

* ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞ —Å—á—ë—Ç —Å–æ–±—ã—Ç–∏–π
* üß© –ù—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
* üîÑ –ü—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–µ—Ä–µ–≤—å—è—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—Å–æ–∫–∏–º

---

## üí° –û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

* UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
* –ò–≥—Ä–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏ ‚Äî —Å—Ü–µ–Ω—ã –∏ –æ–±—ä–µ–∫—Ç—ã —Å —Ä–µ–∞–∫—Ü–∏–µ–π –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
* –†–µ–¥–∞–∫—Ç–æ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–µ—Ä–µ–≤—å—è –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è






