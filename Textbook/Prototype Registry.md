**Prototype Registry (–†–µ–µ—Å—Ç—Ä –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤)** ‚Äî —ç—Ç–æ –æ—á–µ–Ω—å —á–∞—Å—Ç–æ–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ **Prototype**.

---

# üßæ Prototype Registry (–†–µ–µ—Å—Ç—Ä –ü—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤)

## üß© –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

**Prototype Registry (–†–µ–µ—Å—Ç—Ä –ü—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤)**
–¢–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫: *Prototype Manager*, *Prototype Cache*.

---

## üß† –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–∞–µ–º–æ–π –ø—Ä–æ–±–ª–µ–º—ã

### üîç –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ **Prototype**, –æ–±—ä–µ–∫—Ç—ã-–ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã **–≥–¥–µ-—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è**, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω—ã–π —à–∞–±–ª–æ–Ω –∏ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.
–ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –¥–µ—Å—è—Ç–∫–∏ –∏–ª–∏ —Å–æ—Ç–Ω–∏ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≤—Ä–∞–≥–æ–≤, –∫–Ω–æ–ø–æ–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ‚Äî —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –≤—Ä—É—á–Ω—É—é –Ω–µ—É–¥–æ–±–Ω–æ.

üìå **–†–µ–µ—Å—Ç—Ä –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤** —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —à–∞–±–ª–æ–Ω–æ–≤.

---

### üí¨ –ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á

1. üéÆ –í –∏–≥—Ä–µ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–∞–≥–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ (`Orc`, `Goblin`, `Troll`) –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤.
2. üßæ –í —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤ (`–û—Ç—á—ë—Ç`, `–†–µ–∑—é–º–µ`, `–ö–æ–Ω—Ç—Ä–∞–∫—Ç`).
3. üñºÔ∏è –í GUI ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üèóÔ∏è –û–ø–∏—Å–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ —Ä–µ—à–µ–Ω–∏—è

* –°–æ–∑–¥–∞—ë—Ç—Å—è **–∫–ª–∞—Å—Å Registry (—Ä–µ–µ—Å—Ç—Ä)**, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ –≤–∏–¥–∞
  `"–∫–ª—é—á ‚Üí –ø—Ä–æ—Ç–æ—Ç–∏–ø"`.
* –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø–æ –∫–ª—é—á—É –∏ –ø–æ–ª—É—á–∞–µ—Ç **–µ–≥–æ –∫–ª–æ–Ω**, –∞ –Ω–µ —Å–∞–º –ø—Ä–æ—Ç–æ—Ç–∏–ø.
* –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –Ω—É–∂–Ω–æ–≥–æ —Ç–∏–ø–∞, –Ω–µ –∑–Ω–∞—è –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

üìò –†–µ–µ—Å—Ç—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫:

* Singleton (–æ–¥–∏–Ω –æ–±—â–∏–π –¥–ª—è –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã),
* –∏–ª–∏ –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

---

## üìä –î–∏–∞–≥—Ä–∞–º–º–∞ –∏ —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### UML ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤ Prototype Registry

```plantuml
@startuml
interface IPrototype {
  +Clone() : IPrototype
}

class ConcretePrototypeA implements IPrototype {
  -fieldA : string
  +Clone() : IPrototype
}

class ConcretePrototypeB implements IPrototype {
  -fieldB : int
  +Clone() : IPrototype
}

class PrototypeRegistry {
  -prototypes : Dictionary<string, IPrototype>
  +Register(string, IPrototype)
  +CreateClone(string) : IPrototype
}

class Client {
  +Main()
}

Client --> PrototypeRegistry : –∏—Å–ø–æ–ª—å–∑—É–µ—Ç >
PrototypeRegistry --> IPrototype : —Ö—Ä–∞–Ω–∏—Ç >
IPrototype <|.. ConcretePrototypeA
IPrototype <|.. ConcretePrototypeB
@enduml
```

---

## üíª –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ C#

```csharp
using System;
using System.Collections.Generic;

// 1Ô∏è‚É£ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞
public interface IPrototype
{
    IPrototype Clone();
}

// 2Ô∏è‚É£ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã
public class Enemy : IPrototype
{
    public string Name { get; set; }
    public int Health { get; set; }
    public string Weapon { get; set; }

    public Enemy(string name, int health, string weapon)
    {
        Name = name;
        Health = health;
        Weapon = weapon;
    }

    public IPrototype Clone()
    {
        return (IPrototype)this.MemberwiseClone(); // –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
    }

    public override string ToString()
        => $"{Name} [HP={Health}, Weapon={Weapon}]";
}

public class Tower : IPrototype
{
    public string Type { get; set; }
    public int Damage { get; set; }

    public Tower(string type, int damage)
    {
        Type = type;
        Damage = damage;
    }

    public IPrototype Clone()
    {
        return (IPrototype)this.MemberwiseClone();
    }

    public override string ToString()
        => $"Tower Type={Type}, Damage={Damage}";
}

// 3Ô∏è‚É£ –†–µ–µ—Å—Ç—Ä –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
public class PrototypeRegistry
{
    private readonly Dictionary<string, IPrototype> _prototypes = new();

    public void Register(string key, IPrototype prototype)
    {
        _prototypes[key] = prototype;
    }

    public IPrototype CreateClone(string key)
    {
        if (!_prototypes.ContainsKey(key))
            throw new ArgumentException($"–ü—Ä–æ—Ç–æ—Ç–∏–ø —Å –∫–ª—é—á–æ–º '{key}' –Ω–µ –Ω–∞–π–¥–µ–Ω.");

        return _prototypes[key].Clone();
    }
}

// 4Ô∏è‚É£ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
public static class Program
{
    public static void Main()
    {
        var registry = new PrototypeRegistry();

        // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã
        registry.Register("orc", new Enemy("Orc", 100, "Axe"));
        registry.Register("goblin", new Enemy("Goblin", 50, "Dagger"));
        registry.Register("tower", new Tower("Defense", 80));

        // –ö–ª–æ–Ω–∏—Ä—É–µ–º –æ–±—ä–µ–∫—Ç—ã
        var orc1 = (Enemy)registry.CreateClone("orc");
        var goblin1 = (Enemy)registry.CreateClone("goblin");
        var tower1 = (Tower)registry.CreateClone("tower");

        // –ò–∑–º–µ–Ω—è–µ–º –∫–ª–æ–Ω
        orc1.Weapon = "Hammer";
        orc1.Health = 120;

        Console.WriteLine(orc1);
        Console.WriteLine(goblin1);
        Console.WriteLine(tower1);
    }
}
```

**–í—ã–≤–æ–¥:**

```
Orc [HP=120, Weapon=Hammer]
Goblin [HP=50, Weapon=Dagger]
Tower Type=Defense, Damage=80
```

---

## ‚öñÔ∏è –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

| ‚úÖ –ü–ª—é—Å—ã                                      | ‚ùå –ú–∏–Ω—É—Å—ã                                         |
| -------------------------------------------- | ------------------------------------------------ |
| –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏        | –ù—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ä–µ–µ—Å—Ç—Ä–∞       |
| –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–æ–Ω–æ–≤                      | –í–æ–∑–º–æ–∂–Ω—ã –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Å—ã–ª–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞                       | –£—Å–ª–æ–∂–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –µ—Å–ª–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –Ω–µ–º–Ω–æ–≥–æ   |
| –ì–∏–±–∫–æ—Å—Ç—å ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω—è—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –Ω–∞ –ª–µ—Ç—É | –ü—Ä–∏ –≥–ª—É–±–æ–∫–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ ‚Äî –±–æ–ª—å—à–µ –∫–æ–¥–∞           |

---

## üí° –û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

* –ò–≥—Ä–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏ ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –≤—Ä–∞–≥–æ–≤, –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –æ–±—ä–µ–∫—Ç–æ–≤ –º–∏—Ä–∞.
* –†–µ–¥–∞–∫—Ç–æ—Ä—ã –∏ IDE ‚Äî —à–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –æ–∫–æ–Ω, –ø–∞–Ω–µ–ª–µ–π.
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—Ä–∞–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π.
* –ò–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–æ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤—ã—Ö —É–∑–ª–æ–≤, –¥–µ—Ç–∞–ª–µ–π –∏–ª–∏ –º–æ–¥—É–ª–µ–π.

---

## üß© –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: Singleton + Registry

–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤** –≤ –≤–∏–¥–µ Singleton:

```csharp
public sealed class GlobalPrototypeRegistry : PrototypeRegistry
{
    private static readonly Lazy<GlobalPrototypeRegistry> _instance =
        new(() => new GlobalPrototypeRegistry());

    public static GlobalPrototypeRegistry Instance => _instance.Value;

    private GlobalPrototypeRegistry() { }
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```csharp
GlobalPrototypeRegistry.Instance.Register("orc", new Enemy("Orc", 100, "Axe"));
var clone = GlobalPrototypeRegistry.Instance.CreateClone("orc");
```

---

## üìò –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prototype Registry

| –ü—Ä–∏–∑–Ω–∞–∫                                 | –ü–æ—á–µ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç                                  |
| --------------------------------------- | ------------------------------------------------ |
| üîÅ –ß–∞—Å—Ç–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤  | –£—Å–∫–æ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ                                |
| üì¶ –ï—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤     | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ                        |
| üß± –í–∞–∂–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤             | –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å –≥–æ—Ç–æ–≤—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º |
| üß© –ù—É–∂–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç –∫–ª–∞—Å—Å–æ–≤ | –ö–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∫–ª—é—á–∞–º–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º   |

---

## üß≠ –í—ã–≤–æ–¥

**Prototype Registry** ‚Äî —ç—Ç–æ –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º **Prototype**,
–∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ **—É–ø—Ä–∞–≤–ª—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —à–∞–±–ª–æ–Ω–æ–≤** —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä.

üìå –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:

* –∏–≥—Ä–æ–≤—ã—Ö –¥–≤–∏–∂–∫–∞—Ö,
* —Å–∏—Å—Ç–µ–º–∞—Ö —à–∞–±–ª–æ–Ω–æ–≤,
* —Ñ–∞–±—Ä–∏–∫–∞—Ö UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–û–Ω –ø–æ–≤—ã—à–∞–µ—Ç **–≥–∏–±–∫–æ—Å—Ç—å**, **—Å–∫–æ—Ä–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤** –∏ **–º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞**.

